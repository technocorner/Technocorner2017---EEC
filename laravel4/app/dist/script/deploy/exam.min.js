$(document).ready(function(){function a(){for(var a=$("div.row.question").get(),e=0;e<a.length;e++){var n=localStorage.getItem(t+"-"+a[e].id);null!=n&&$("#"+a[e].id+" input[value="+n+"]").prop("checked",!0)}}function e(){var a,e=$("#exam_id").val();$.ajax({type:"get",url:"/user/exam/get-answer",data:{exam_id:e},success:function(e){a=e,console.log(a)},error:function(){alert("Jawaban gagal di load dari server, meload dari localStorage")}});for(var n=a.answer,t=$("div.row.question").get(),i=0;i<t.length;i++){var r=n[i].answer;null!=r&&$("#"+n[i].id+" input[value="+r+"]").prop("checked",!0)}}function n(a){var e=[],n=$("#exam_id").val();$(".question").each(function(){var a={},n=this.id;a.id=n,a.answer=$(this).find("[name="+n+"-ch]:checked").val(),a.answer&&e.push(a)}),$.ajax({async:!1,type:"POST",url:"/user/exam/submit",data:{answers:e,exam_id:n},success:function(){a()},error:function(){alert("Gagal menyimpan jawaban, harap ulangi klik tombol. Jika hal ini terus terjadi segera hubungi Admin.")}})}$(window).keydown(function(a){return 13==a.keyCode?!1:!0});var t=$("form").attr("id").replace("-paper","");$(".choice-radio").click(function(){var a=$(this).attr("name").split("-")[0],e=$(this).attr("value");localStorage.setItem(t+"-"+a,e)}),a(),e(),$("#exam-paper").submit(function(a){a.preventDefault();var e=this;n(e.submit())}),$(".subject-link").on("click",function(a){a.preventDefault();var e=this;n(function(){window.location=e.href})})});